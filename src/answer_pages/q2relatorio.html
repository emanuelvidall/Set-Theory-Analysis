<body>
<table style=" background-color: beige; border: solid 1px black;">
    <colgroup span="3" class="columns"></colgroup>
    <h2>
        Relatório Educação
        <h3> Q2- Pessoas que frequentaram o posto de saúde, menos os cidadãos que não utilizam ônibus. (D  - (d in o) + (a in d in o))<h3>
    </h2>
    <tr>
        <th>ID</th>
        <th>Nome</th>
        <th>Nascimento</th>
    </tr>
    <tr>
        <td width="30%" style="border: solid 1px black;"id="ids">
        </td>
        <td style="border: solid 1px black;" id="names">
        </td>
        <td style="border: solid 1px black;" id="nascimento">
        </td>
    </tr>
    <tr> 

    </tr>
    <script defer>
            async function differenceSet(){
                const url = '/src/data/allsetsfixed.json';
                const response = await fetch(url);
                const datapoints = await response.json();
                const nomesAlunos = datapoints.alunos.map((pessoaAluno) => pessoaAluno.nome);
                const nomesDengue = datapoints.dengue.map((pessoaDengue) => pessoaDengue.nome)
                const nomesOnibus = datapoints.onibus.map((pessoaOnibus) => pessoaOnibus.nome);
                var diff = nomesAlunos.filter(function(x) {
                return nomesOnibus.indexOf(x) < 0;});
                let placeholder = document.getElementById("ids");
                let placeholder2 = document.getElementById("names");
                let placeholder3 = document.getElementById("nascimento");
                console.log(...intersect)
                for(let i = 0; i < nomesAlunos.length; i++){
                    for (let j = 0; j < diff.length; j++){
                        if (diff[j] == nomesAlunos[i]){
                            placeholder.innerHTML += `<br><tr>${datapoints.alunos[i].id}</tr>`;
                            placeholder2.innerHTML += `<br><tr>${datapoints.alunos[i].nome}</tr>`
                            placeholder3.innerHTML += `<br><tr>${datapoints.alunos[i].nascimento}<tr>`;
                        }
                    }
                };
            };
            
        differenceSet();

    </script>
</body>


